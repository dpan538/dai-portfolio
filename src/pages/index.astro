---
import BaseLayout from "../layouts/base_layout.astro";
import { TAG_ACCENTS } from "../scripts/home-interaction";
---

<BaseLayout title="Dai Pan" active="" homePage={true}>
    <div class="home">
        <div class="home-inner">
            <p class="home-para">
                I am <span
                    class="id-tag id-tag--name"
                    data-tag="dai_pan"
                    style={`--tag-accent: ${TAG_ACCENTS.dai_pan}`}>Dai Pan</span
                >, born in China and currently living in Brisbane, Australia. I
                build quiet interfaces for image-based, object-oriented systems
                that perceive minimal sense, and projects that treat experience
                and aesthetics as part of the content. I work as a{" "}
                <span
                    class="id-tag"
                    data-tag="web_developer"
                    style={`--tag-accent: ${TAG_ACCENTS.web_developer}`}
                    >Web Developer</span
                >,{" "}
                <span
                    class="id-tag"
                    data-tag="conceptual_designer"
                    style={`--tag-accent: ${TAG_ACCENTS.conceptual_designer}`}
                    >Conceptual Designer</span
                >,{" "}
                <span
                    class="id-tag"
                    data-tag="visual_artist"
                    style={`--tag-accent: ${TAG_ACCENTS.visual_artist}`}
                    >Visual Artist</span
                >,{" "}
                <span
                    class="id-tag"
                    data-tag="printmaker"
                    style={`--tag-accent: ${TAG_ACCENTS.printmaker}`}
                    >Printmaker</span
                >,{" "}
                <span
                    class="id-tag"
                    data-tag="photographer"
                    style={`--tag-accent: ${TAG_ACCENTS.photographer}`}
                    >Photographer</span
                >, and{" "}
                <span
                    class="id-tag"
                    data-tag="writer"
                    style={`--tag-accent: ${TAG_ACCENTS.writer}`}>Writer</span
                >. This site is a record of what I've made so far.
            </p>
            <p class="home-hint" id="home-hint" aria-live="polite">
                Read or click the projects in the left sidebar to view.
            </p>
        </div>
    </div>
</BaseLayout>

<script>
    import "../scripts/home-interaction";
</script>
<script>
    document.addEventListener("DOMContentLoaded", () => {
        const hint = document.getElementById("home-hint");
        if (hint) setTimeout(() => hint.classList.add("is-visible"), 3600);
    });
</script>

<style>
    /* 与侧栏垂直对齐：段落首行与 "Closing Time" 同高（sidebar 48px + brand + 18px gap + 3×(link+12px) ≈ 220px，减去 content 的 padding-block 得 .home padding-top） */
    .home {
        flex: 1;
        min-height: 0;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        justify-content: flex-start;
        padding-top: clamp(140px, 14vw, 200px);
        padding-inline: clamp(32px, 5vw, 64px);
        padding-bottom: clamp(32px, 5vw, 64px);
        box-sizing: border-box;
    }

    .home-inner {
        max-width: 720px;
        display: flex;
        flex-direction: column;
        gap: 0;
    }

    .home-para {
        margin: 0;
        font-family: var(--display);
        font-size: clamp(13px, 1.8vw, 22px);
        font-weight: 400;
        line-height: 1.55;
        letter-spacing: 0.01em;
        color: var(--text, #111);
        overflow: visible;
    }

    .home-hint {
        margin: 0;
        margin-top: 1.5rem;
        font-family: var(--body, system-ui, sans-serif);
        font-size: calc(0.8rem + 2px);
        color: var(--muted, #6a6a6a);
        letter-spacing: 0.02em;
        opacity: 0;
        transition: opacity 0.4s ease;
    }

    .home-hint.is-visible {
        opacity: 1;
    }

    .id-tag {
        display: inline-block;
        font-family: var(--display);
        background: none;
        padding: 0;
        border-radius: 0.15em;
        cursor: default;
        color: inherit;
        font-weight: inherit;
        user-select: none;
        white-space: nowrap;
        /* 进入 .is-active 时使用：更慢、ease-out，避免出现时太冲 */
        transition:
            background-color 0.56s cubic-bezier(0, 0, 0.2, 1),
            color 0.56s cubic-bezier(0, 0, 0.2, 1),
            padding 0.56s cubic-bezier(0, 0, 0.2, 1),
            font-weight 0.5s cubic-bezier(0, 0, 0.1, 1),
            clip-path 0.56s cubic-bezier(0, 0, 0.2, 1),
            border-radius 0.56s cubic-bezier(0, 0, 0.2, 1);
        clip-path: inset(0 round 0);
    }

    .id-tag.is-active {
        background: var(--tag-accent);
        color: #fff;
        font-weight: 700;
        padding: 0.22em 0.56em;
        border-radius: 0.35em;
        clip-path: inset(0 round 0.35em);
        /* 离开 .is-active 时使用：稍短，保持 ease-out */
        transition:
            background-color 0.38s cubic-bezier(0, 0, 0.2, 1),
            color 0.38s cubic-bezier(0, 0, 0.2, 1),
            padding 0.38s cubic-bezier(0, 0, 0.2, 1),
            font-weight 0.34s cubic-bezier(0, 0, 0.2, 1),
            clip-path 0.38s cubic-bezier(0, 0, 0.2, 1),
            border-radius 0.38s cubic-bezier(0, 0, 0.2, 1);
    }

    @media (prefers-reduced-motion: reduce) {
        .id-tag,
        .id-tag.is-active {
            transition: none;
        }
    }

    :global(.menu_link.is-highlight) {
        color: var(--text, #111) !important;
        font-weight: 600;
    }
</style>
